{"version":3,"sources":["translate.js"],"names":["express","require","router","Router","axios","db","post","req","res","body","text","targetLang","console","log","q","source","target","format","headers","response","data","translatedText","query","json","error","message","status","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,KAAK,GAAGH,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMI,EAAE,GAAGJ,OAAO,CAAC,OAAD,CAAlB;;AAEAC,MAAM,CAACI,IAAP,CAAY,GAAZ,EAAiB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACcD,GAAG,CAACE,IADlB,EACPC,IADO,aACPA,IADO,EACDC,UADC,aACDA,UADC;AAEfC,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,IAA9B;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,UAAhC;AAHe;AAAA;AAAA,0CAMUP,KAAK,CAACE,IAAN,CAAW,iCAAX,EAA8C;AACnEQ,YAAAA,CAAC,EAAEJ,IADgE;AAEnEK,YAAAA,MAAM,EAAE,IAF2D;AAGnEC,YAAAA,MAAM,EAAEL,UAH2D;AAInEM,YAAAA,MAAM,EAAE;AAJ2D,WAA9C,EAKpB;AACDC,YAAAA,OAAO,EAAE;AAAE,8BAAgB;AAAlB;AADR,WALoB,CANV;;AAAA;AAMPC,UAAAA,QANO;AAebP,UAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCM,QAAQ,CAACC,IAAlD,EAfa,CAe4C;;AAEnDC,UAAAA,cAjBO,GAiBUF,QAAQ,CAACC,IAAT,CAAcC,cAjBxB,EAmBb;;AACAhB,UAAAA,EAAE,CAACiB,KAAH,CAAS,yGAAT,EACE,CAACZ,IAAD,EAAOW,cAAP,EAAuB,IAAvB,EAA6BV,UAA7B,CADF;AAGAH,UAAAA,GAAG,CAACe,IAAJ,CAAS;AAAEF,YAAAA,cAAc,EAAdA;AAAF,WAAT;AAvBa;AAAA;;AAAA;AAAA;AAAA;AAyBbT,UAAAA,OAAO,CAACY,KAAR,CAAc,oBAAd,EAAoC,YAAIC,OAAxC,EAzBa,CAyBqC;;AAClDjB,UAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqB;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAArB;;AA1Ba;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;AA+BAG,MAAM,CAACC,OAAP,GAAiB1B,MAAjB","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst axios = require('axios');\r\nconst db = require('../db');\r\n\r\nrouter.post('/', async (req, res) => {\r\n  const { text, targetLang } = req.body;\r\n  console.log('Received text:', text);\r\n  console.log('Target language:', targetLang);\r\n\r\n  try {\r\n    const response = await axios.post('http://localhost:5001/translate', {\r\n      q: text,\r\n      source: 'en',\r\n      target: targetLang,\r\n      format: 'text'\r\n    }, {\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n\r\n    console.log('Translation API response:', response.data); // ðŸ‘ˆ Add this\r\n\r\n    const translatedText = response.data.translatedText;\r\n    \r\n    // Save to DB\r\n    db.query('INSERT INTO translations (original_text, translated_text, source_lang, target_lang) VALUES (?, ?, ?, ?)',\r\n      [text, translatedText, 'en', targetLang]);\r\n\r\n    res.json({ translatedText });\r\n  } catch (err) {\r\n    console.error('Translation Error:', err.message); // ðŸ‘ˆ Add this\r\n    res.status(500).json({ error: 'Translation failed' });\r\n  }\r\n});\r\n\r\n\r\nmodule.exports = router;"],"file":"translate.dev.js"}